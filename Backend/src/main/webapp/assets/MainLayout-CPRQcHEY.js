import{l as T,Q as j}from"./language-CpZRSw5K.js";import{Q as w}from"./QBtn-CpPlhTW9.js";import{c as U,a as h,h as q,g as A,i as R,e as B,l as K,r as b,w as _,o as P,_ as D,d as k,f as v,j as r,k as C,m as l,n as O,t as E,u as d,p as G,q as J,s as W,v as X,F as Y,x as Z,y as ee}from"./index-BoGljDLN.js";import{h as te,a as ae}from"./render-CABIAf-z.js";import{Q as ne,a as le,b as oe,c as re}from"./QLayout-C1-uemT3.js";import{Q as z,a as se,b as ue,c as ie}from"./QItemLabel-BeoSBhOt.js";import{Q as I,a as F}from"./QCard-DRhbeSeQ.js";import{Q as ce}from"./QToggle-C7EGCN7J.js";import{Q as de}from"./QSelect-DNwbvsaE.js";import{Q as H}from"./QCardActions-DWGhiwWq.js";import{Q as M}from"./QDialog-2jei2Dsv.js";import{Q as fe}from"./QSpinner-BFNwqP9i.js";import{a as N,u as me}from"./token--ulPFVqS.js";import"./vm-DK5zCSE4.js";import"./use-dark-CpAO_YU6.js";import"./QMenu-DpO5IsqL.js";import"./focus-manager-BJWzFvJg.js";import"./format-BOf40pHW.js";import"./use-checkbox-AEWEhUM5.js";import"./use-key-composition-ChOD7TKA.js";const ve=U({name:"QToolbar",props:{inset:Boolean},setup(a,{slots:i}){const s=h(()=>"q-toolbar row no-wrap items-center"+(a.inset===!0?" q-toolbar--inset":""));return()=>q("div",{class:s.value,role:"toolbar"},te(i.default))}}),pe=U({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(a,{slots:i,emit:s}){const{proxy:{$q:p}}=A(),o=R(K,B);if(o===B)return console.error("QHeader needs to be child of QLayout"),B;const c=b(parseInt(a.heightHint,10)),f=b(!0),V=h(()=>a.reveal===!0||o.view.value.indexOf("H")!==-1||p.platform.is.ios&&o.isContainer.value===!0),L=h(()=>{if(a.modelValue!==!0)return 0;if(V.value===!0)return f.value===!0?c.value:0;const e=c.value-o.scroll.value.position;return e>0?e:0}),x=h(()=>a.modelValue!==!0||V.value===!0&&f.value!==!0),S=h(()=>a.modelValue===!0&&x.value===!0&&a.reveal===!0),y=h(()=>"q-header q-layout__section--marginal "+(V.value===!0?"fixed":"absolute")+"-top"+(a.bordered===!0?" q-header--bordered":"")+(x.value===!0?" q-header--hidden":"")+(a.modelValue!==!0?" q-layout--prevent-focus":"")),Q=h(()=>{const e=o.rows.value.top,g={};return e[0]==="l"&&o.left.space===!0&&(g[p.lang.rtl===!0?"right":"left"]=`${o.left.size}px`),e[2]==="r"&&o.right.space===!0&&(g[p.lang.rtl===!0?"left":"right"]=`${o.right.size}px`),g});function u(e,g){o.update("header",e,g)}function m(e,g){e.value!==g&&(e.value=g)}function t({height:e}){m(c,e),u("size",e)}function $(e){S.value===!0&&m(f,!0),s("focusin",e)}_(()=>a.modelValue,e=>{u("space",e),m(f,!0),o.animate()}),_(L,e=>{u("offset",e)}),_(()=>a.reveal,e=>{e===!1&&m(f,a.modelValue)}),_(f,e=>{o.animate(),s("reveal",e)}),_(o.scroll,e=>{a.reveal===!0&&m(f,e.direction==="up"||e.position<=a.revealOffset||e.position-e.inflectionPoint<100)});const n={};return o.instances.header=n,a.modelValue===!0&&u("size",c.value),u("space",a.modelValue),u("offset",L.value),P(()=>{o.instances.header===n&&(o.instances.header=void 0,u("size",0),u("offset",0),u("space",!1))}),()=>{const e=ae(i.default,[]);return a.elevated===!0&&e.push(q("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),e.push(q(ne,{debounce:0,onResize:t})),q("header",{class:y.value,style:Q.value,onFocusin:$},e)}}}),ge=Object.assign({name:"EssentialLink"},{__name:"EssentialLink",props:{title:{type:String,required:!0},link:{type:String,default:"#"},icon:{type:String,default:""}},setup(a){const i=N(),s=a;return(p,o)=>(v(),k(ue,{clickable:"",tag:"a",href:s.link},{default:r(()=>[s.icon?(v(),k(z,{key:0,avatar:""},{default:r(()=>[l(fe,{name:s.icon},null,8,["name"])]),_:1})):C("",!0),l(z,null,{default:r(()=>[l(se,null,{default:r(()=>[O(E(d(T)[s.title][d(i).sprache]),1)]),_:1})]),_:1})]),_:1},8,["href"]))}}),he=D(ge,[["__scopeId","data-v-a6e656d1"]]),ke=Object.assign({name:"MainLayout"},{__name:"MainLayout",setup(a){const i=me(),s=N(),p=G(),o=J(),c=b(p.dark.isActive),f=[{name:"Deutsch",code:"de"},{name:"English",code:"en"},{name:"Français",code:"fr"}],V=b(!0),L=m=>{s.account&&s.account.einstellungen&&(s.account.einstellungen.sprache=m),console.log("Language changed to",m)};_(()=>c.value,()=>{console.log("Switching"),p.dark.set(c.value),s.account.einstellungen.farbschema=c});const x=h(()=>s.account.rang<1?[{title:"übersicht",icon:"space_dashboard",link:"/#/dashboard"},{title:"chat",icon:"chat",link:"/#/chat"},{title:"kalender",icon:"event",link:"/#/calendar"},{title:"termin_erstellen",icon:"edit_calendar",link:"/#/termin"},{title:"kunden",icon:"support_agent",link:"/#/clients"},{title:"account",icon:"person",link:"/#/account"}]:[{title:"übersicht",icon:"space_dashboard",link:"/#/managment_dashboard"},{title:"chat",icon:"chat",link:"/#/chat"},{title:"kalender",icon:"event",link:"/#/calendar"},{title:"termin_erstellen",icon:"edit_calendar",link:"/#/termin"},{title:"account",icon:"person",link:"/#/account"}]),S=b(!1),y=b(!1),Q=b(!1);function u(){i.token="",o.push("/login")}return(m,t)=>{const $=W("router-view");return v(),k(re,{view:"hHh Lpr lFf"},{default:r(()=>[l(pe,{elevated:!d(p).dark.isActive},{default:r(()=>[l(ve,null,{default:r(()=>[l(j,{class:"logo"},{default:r(()=>t[9]||(t[9]=[O(" flow ")])),_:1}),V.value?(v(),k(w,{key:0,flat:"",dense:"",icon:"error","aria-label":"Messages",onClick:t[0]||(t[0]=n=>Q.value=!0),color:"yellow"})):C("",!0),d(i).token!=""?(v(),k(w,{key:1,flat:"",dense:"",icon:"settings","aria-label":"Logout",onClick:t[1]||(t[1]=n=>y.value=!0)})):C("",!0),d(i).token!=""?(v(),k(w,{key:2,flat:"",dense:"",icon:"logout","aria-label":"Logout",onClick:u})):C("",!0)]),_:1})]),_:1},8,["elevated"]),d(i).token!=""?(v(),k(le,{key:0,modelValue:S.value,"onUpdate:modelValue":t[2]||(t[2]=n=>S.value=n),"show-if-above":"",bordered:"",class:"drawer"},{default:r(()=>[l(ie,null,{default:r(()=>[(v(!0),X(Y,null,Z(x.value,n=>(v(),k(he,ee({key:n.title,onClick:e=>n.onClick?n.onClick:null,ref_for:!0},n),null,16,["onClick"]))),128))]),_:1})]),_:1},8,["modelValue"])):C("",!0),l(oe,{class:"flex-container"},{default:r(()=>[l($,{class:"flex-item"})]),_:1}),l(M,{modelValue:y.value,"onUpdate:modelValue":t[6]||(t[6]=n=>y.value=n),persistent:""},{default:r(()=>[l(I,{style:{width:"25vh",height:"25vh"}},{default:r(()=>[l(F,null,{default:r(()=>[O(E(d(T).einstellungen[d(s).sprache]),1)]),_:1}),l(ce,{label:"Dark Mode",modelValue:c.value,"onUpdate:modelValue":t[3]||(t[3]=n=>c.value=n)},null,8,["modelValue"]),l(de,{modelValue:d(s).account.einstellungen.sprache,"onUpdate:modelValue":[t[4]||(t[4]=n=>d(s).account.einstellungen.sprache=n),L],options:f,"option-value":"code","option-label":"name",dense:"",outlined:"",class:"q-ml-md",style:{"max-width":"120px"},"emit-value":"","map-options":""},null,8,["modelValue"]),l(H,{align:"center"},{default:r(()=>[l(w,{label:"OK",color:"primary",onClick:t[5]||(t[5]=n=>y.value=!1)})]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(M,{modelValue:Q.value,"onUpdate:modelValue":t[8]||(t[8]=n=>Q.value=n),persistent:""},{default:r(()=>[l(I,{style:{width:"25vh",height:"25vh"}},{default:r(()=>[l(F,null,{default:r(()=>t[10]||(t[10]=[O("Message Center")])),_:1}),l(H,{align:"center"},{default:r(()=>[l(w,{label:"OK",color:"primary",onClick:t[7]||(t[7]=n=>Q.value=!1)})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}}}),Ue=D(ke,[["__scopeId","data-v-3cc05fe5"]]);export{Ue as default};
