import{Q as p,a as w,b as z,c as I}from"./QItemLabel-BeoSBhOt.js";import{u as K}from"./kunde-DZBuxM3l.js";import{c as $,a as g,h as N,_ as V,r as v,J as F,a4 as G,d as b,f as d,j as l,m as o,n as B,k as M,t as c,u as t,z as q,D as P,v as h,F as L,x as T}from"./index-BoGljDLN.js";import{b as E,h as J}from"./render-CABIAf-z.js";import{Q as S}from"./QBtn-CpPlhTW9.js";import{l as m}from"./language-CpZRSw5K.js";import{a as O}from"./token--ulPFVqS.js";import{u as U}from"./aufgaben-lGrxl6jT.js";import"./use-dark-CpAO_YU6.js";import"./request-CTPT2BVh.js";import"./QSpinner-BFNwqP9i.js";import"./vm-DK5zCSE4.js";const H=["top","middle","bottom"],R=$({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:e=>H.includes(e)}},setup(e,{slots:a}){const u=g(()=>e.align!==void 0?{verticalAlign:e.align}:null),s=g(()=>{const n=e.outline===!0&&e.color||e.textColor;return`q-badge flex inline items-center no-wrap q-badge--${e.multiLine===!0?"multi":"single"}-line`+(e.outline===!0?" q-badge--outline":e.color!==void 0?` bg-${e.color}`:"")+(n!==void 0?` text-${n}`:"")+(e.floating===!0?" q-badge--floating":"")+(e.rounded===!0?" q-badge--rounded":"")+(e.transparent===!0?" q-badge--transparent":"")});return()=>N("div",{class:s.value,style:u.value,role:"status","aria-label":e.label},E(a.default,e.label!==void 0?[e.label]:[]))}}),W=$({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:a}){const u=g(()=>{const s=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(n=>e[n]===!0).map(n=>`q-btn-group--${n}`).join(" ");return`q-btn-group row no-wrap${s.length!==0?" "+s:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>N("div",{class:u.value},J(a.default))}}),X={class:"digital-clock"},Y={__name:"KundeListComponent",props:{id:String,kunde:Boolean},setup(e){const a=O(),u=U(),s=g(()=>{var _,y,C;console.log("Computing number of tasks for "+n.id);let f=0;for(const j in u.aufgaben){const k=u.aufgaben[j];console.log((_=k.kunde)==null?void 0:_.id),((y=k.kunde)==null?void 0:y.id)===void 0&&console.log(k),((C=k.kunde)==null?void 0:C.id)==n.id&&(console.log("sum++"),f++,console.log("Summe = "+f))}return f}),n=e;console.log(n.id);const r=K(),i=n.kunde?v(r.kunden[n.id]):v(r.interessenten[n.id]),x=v(new Date(new Date().getTime()+i.value.utcOffset*1e3*60));let Q=null;F(()=>{Q=setInterval(()=>{x.value=new Date(new Date().getTime()+i.value.utcOffset*1e3*60)},6e3)}),G(()=>{clearInterval(Q)});const A=g(()=>x.value.toTimeString().slice(0,5));return(f,_)=>(d(),b(z,{class:P(["main",[{red:n.kunde&&t(i).kontaktstatus==0},{blue:n.kunde&&t(i).kontaktstatus==1},{green:n.kunde&&t(i).kontaktstatus==2}]])},{default:l(()=>[o(p,null,{default:l(()=>[o(w,null,{default:l(()=>[B(c(t(i).vorname)+" "+c(t(i).nachname)+" ",1),s.value?(d(),b(R,{key:0,rounded:""},{default:l(()=>[B(c(s.value),1)]),_:1})):M("",!0)]),_:1}),o(w,{caption:""},{default:l(()=>[B(c(t(i).email),1)]),_:1})]),_:1}),o(p,{side:""},{default:l(()=>[o(W,{rounded:""},{default:l(()=>[o(S,{label:t(m).nicht_kontaktiert[t(a).account.einstellungen.sprache]},null,8,["label"]),o(S,{label:t(m).kontaktiert[t(a).account.einstellungen.sprache]},null,8,["label"]),o(S,{label:t(m).kunde[t(a).account.einstellungen.sprache]},null,8,["label"])]),_:1})]),_:1}),o(p,{side:""},{default:l(()=>[q("div",X,c(A.value),1)]),_:1})]),_:1},8,["class"]))}},D=V(Y,[["__scopeId","data-v-cfdd1278"]]),Z={__name:"KundePage",setup(e){const a=K(),u=O();return a.fetchOwnKunden().finally(()=>{console.log(a.kunden)}),(s,n)=>(d(),h("div",null,[q("h3",null,c(t(m).kunden[t(u).account.einstellungen.sprache]),1),o(I,{class:"q-table"},{default:l(()=>[(d(!0),h(L,null,T(t(a).kunden,r=>(d(),b(D,{id:""+r.id,key:r,kunde:""},null,8,["id"]))),128))]),_:1}),q("h3",null,c(t(m).interessenten[t(u).account.einstellungen.sprache]),1),o(I,{class:"q-table"},{default:l(()=>[(d(!0),h(L,null,T(t(a).interessenten,r=>(d(),b(D,{id:""+r.id,key:r},null,8,["id"]))),128))]),_:1})]))}},me=V(Z,[["__scopeId","data-v-44911307"]]);export{me as default};
