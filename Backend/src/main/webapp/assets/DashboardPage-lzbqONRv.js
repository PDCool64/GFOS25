import{Q as Ye}from"./QPopupProxy-5Umc2OVJ.js";import{Q as I,u as At,a as Mt}from"./QSpinner-BFNwqP9i.js";import{l as A}from"./language-CpZRSw5K.js";import{u as De}from"./aufgaben-lGrxl6jT.js";import{Q as xe}from"./QInput-D5AtLni6.js";import{a as Qt,Q as Et}from"./QCard-DRhbeSeQ.js";import"./kunde-DZBuxM3l.js";/* empty css                                                                       */import{E as Nt,G as jt,_ as ve,r as L,d as de,f as E,j as F,m as B,u as x,z as R,B as zt,c as z,g as U,h as s,a as v,w as j,H as Ie,I as Ze,J as et,K as Ht,L as It,o as tt,M as Ue,N as Be,O as Ke,P as Ut,Q as lt,R as Kt,S as Y,q as Wt,D as at,v as ee,F as nt,x as ot,n as $e,t as N,k as Gt}from"./index-BoGljDLN.js";/* empty css                                                                              *//* empty css                                                                          */import{A as Jt}from"./AufgabenPieGraphComponent-vdFobOHh.js";import{Q as J}from"./QBtn-CpPlhTW9.js";import{Q as Xt}from"./QDate-FK7kTF_s.js";import{Q as rt,u as Yt,a as Zt,c as st}from"./QSelect-DNwbvsaE.js";import{g as el,c as tl,s as ll,a as al}from"./QDialog-2jei2Dsv.js";import{a as Ve}from"./token--ulPFVqS.js";import{h as X,a as nl,b as it}from"./render-CABIAf-z.js";import{u as fe,a as ge}from"./use-dark-CpAO_YU6.js";import{c as ol}from"./QItemLabel-BeoSBhOt.js";import{u as rl,a as sl,b as il}from"./use-checkbox-AEWEhUM5.js";import{v as ul}from"./vm-DK5zCSE4.js";import{u as ut}from"./kalendar-CFj-E-cT.js";import"./QMenu-DpO5IsqL.js";import"./focus-manager-BJWzFvJg.js";import"./request-CTPT2BVh.js";import"./use-key-composition-ChOD7TKA.js";import"./chart-6FDCjQWP.js";/* empty css                                                                                  */import"./format-BOf40pHW.js";function We(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const l=parseInt(e,10);return isNaN(l)?0:l}const cl=Nt({name:"close-popup",beforeMount(e,{value:l}){const a={depth:We(l),handler(r){a.depth!==0&&setTimeout(()=>{const o=el(e);o!==void 0&&tl(o,r,a.depth)})},handlerKey(r){jt(r,13)===!0&&a.handler(r)}};e.__qclosepopup=a,e.addEventListener("click",a.handler),e.addEventListener("keyup",a.handlerKey)},updated(e,{value:l,oldValue:a}){l!==a&&(e.__qclosepopup.depth=We(l))},beforeUnmount(e){const l=e.__qclosepopup;e.removeEventListener("click",l.handler),e.removeEventListener("keyup",l.handlerKey),delete e.__qclosepopup}}),dl={class:"row items-center justify-end"},vl={__name:"AufgabenCreateComponent",emits:["creationDone"],setup(e,{emit:l}){const a=Ve(),r=l,o=De(),f=L(""),i=L(""),u=L(""),c=L(null);L(null);const m=[{label:"Low",value:0},{label:"Medium",value:1},{label:"High",value:2}],n=_=>{const b=_.getFullYear(),q=String(_.getMonth()+1).padStart(2,"0"),w=String(_.getDate()).padStart(2,"0");return`${b}-${q}-${w}`};async function g(){const _={titel:f.value,beschreibung:i.value,erstellungsdatum:n(new Date),faelligkeitsdatum:u.value,prioritaet:c.value.value,status:0};await o.createAufgabe(_),r("creationDone")}return(_,b)=>(E(),de(Et,{class:"aufgaben-card"},{default:F(()=>[B(Qt,null,{default:F(()=>{var q,w,y,$,D;return[B(xe,{modelValue:f.value,"onUpdate:modelValue":b[0]||(b[0]=C=>f.value=C),label:x(A).titel[(q=x(a).account.einstellungen)==null?void 0:q.sprache]},null,8,["modelValue","label"]),B(xe,{modelValue:i.value,"onUpdate:modelValue":b[1]||(b[1]=C=>i.value=C),label:x(A).beschreibung[(w=x(a).account.einstellungen)==null?void 0:w.sprache],type:"textarea"},null,8,["modelValue","label"]),B(xe,{filled:"",modelValue:u.value,"onUpdate:modelValue":b[3]||(b[3]=C=>u.value=C),mask:"date",rules:["date"],label:x(A).faelligkeitsdatum[(y=x(a).account.einstellungen)==null?void 0:y.sprache]},{append:F(()=>[B(I,{name:"event",class:"cursor-pointer"},{default:F(()=>[B(Ye,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:F(()=>[B(Xt,{modelValue:u.value,"onUpdate:modelValue":b[2]||(b[2]=C=>u.value=C)},{default:F(()=>[R("div",dl,[zt(B(J,{label:"Close",color:"primary",flat:""},null,512),[[cl]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","label"]),B(rt,{modelValue:c.value,"onUpdate:modelValue":b[4]||(b[4]=C=>c.value=C),options:m,label:x(A).priorität[($=x(a).account.einstellungen)==null?void 0:$.sprache]},null,8,["modelValue","label"]),B(J,{onClick:g,label:x(A).aufgabe_erstellen[(D=x(a).account.einstellungen)==null?void 0:D.sprache],color:"primary"},null,8,["label"])]}),_:1})]),_:1}))}},fl=ve(vl,[["__scopeId","data-v-7b419276"]]),gl=z({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:l,emit:a}){const r=U(),{proxy:{$q:o}}=r,f=i=>{a("click",i)};return()=>{if(e.props===void 0)return s("th",{class:e.autoWidth===!0?"q-table--col-auto-width":"",onClick:f},X(l.default));let i,u;const c=r.vnode.key;if(c){if(i=e.props.colsMap[c],i===void 0)return}else i=e.props.col;if(i.sortable===!0){const n=i.align==="right"?"unshift":"push";u=nl(l.default,[]),u[n](s(I,{class:i.__iconClass,name:o.iconSet.table.arrowUp}))}else u=X(l.default);const m={class:i.__thClass+(e.autoWidth===!0?" q-table--col-auto-width":""),style:i.headerStyle,onClick:n=>{i.sortable===!0&&e.props.sort(i),f(n)}};return s("th",m,u)}}}),ml={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},Te={xs:2,sm:4,md:8,lg:16,xl:24},bl=z({name:"QSeparator",props:{...fe,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(e){const l=U(),a=ge(e,l.proxy.$q),r=v(()=>e.vertical===!0?"vertical":"horizontal"),o=v(()=>` q-separator--${r.value}`),f=v(()=>e.inset!==!1?`${o.value}-${ml[e.inset]}`:""),i=v(()=>`q-separator${o.value}${f.value}`+(e.color!==void 0?` bg-${e.color}`:"")+(a.value===!0?" q-separator--dark":"")),u=v(()=>{const c={};if(e.size!==void 0&&(c[e.vertical===!0?"width":"height"]=e.size),e.spaced!==!1){const m=e.spaced===!0?`${Te.md}px`:e.spaced in Te?`${Te[e.spaced]}px`:e.spaced,n=e.vertical===!0?["Left","Right"]:["Top","Bottom"];c[`margin${n[0]}`]=c[`margin${n[1]}`]=m}return c});return()=>s("hr",{class:i.value,style:u.value,"aria-orientation":r.value})}}),hl=["horizontal","vertical","cell","none"],_l=z({name:"QMarkupTable",props:{...fe,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>hl.includes(e)}},setup(e,{slots:l}){const a=U(),r=ge(e,a.proxy.$q),o=v(()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(r.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(e.dense===!0?" q-table--dense":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")+(e.square===!0?" q-table--square":"")+(e.wrapCells===!1?" q-table--no-wrap":""));return()=>s("div",{class:o.value},[s("table",{class:"q-table"},X(l.default))])}});function ct(e,l){return s("div",e,[s("table",{class:"q-table"},l)])}const Sl={list:ol,table:_l},yl=["list","table","__qtable"],wl=z({name:"QVirtualScroll",props:{...Yt,type:{type:String,default:"list",validator:e=>yl.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:ll},setup(e,{slots:l,attrs:a}){let r;const o=L(null),f=v(()=>e.itemsSize>=0&&e.itemsFn!==void 0?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0),{virtualScrollSliceRange:i,localResetVirtualScroll:u,padVirtualScroll:c,onVirtualScrollEvt:m}=Zt({virtualScrollLength:f,getVirtualScrollTarget:q,getVirtualScrollEl:b}),n=v(()=>{if(f.value===0)return[];const D=(C,T)=>({index:i.value.from+T,item:C});return e.itemsFn===void 0?e.items.slice(i.value.from,i.value.to).map(D):e.itemsFn(i.value.from,i.value.to-i.value.from).map(D)}),g=v(()=>"q-virtual-scroll q-virtual-scroll"+(e.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(e.scrollTarget!==void 0?"":" scroll")),_=v(()=>e.scrollTarget!==void 0?{}:{tabindex:0});j(f,()=>{u()}),j(()=>e.scrollTarget,()=>{y(),w()});function b(){return o.value.$el||o.value}function q(){return r}function w(){r=al(b(),e.scrollTarget),r.addEventListener("scroll",m,Ie.passive)}function y(){r!==void 0&&(r.removeEventListener("scroll",m,Ie.passive),r=void 0)}function $(){let D=c(e.type==="list"?"div":"tbody",n.value.map(l.default));return l.before!==void 0&&(D=l.before().concat(D)),it(l.after,D)}return Ze(()=>{u()}),et(()=>{w()}),Ht(()=>{w()}),It(()=>{y()}),tt(()=>{y()}),()=>{if(l.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return e.type==="__qtable"?ct({ref:o,class:"q-table__middle "+g.value},$()):s(Sl[e.type],{...a,ref:o,class:[a.class,g.value],..._.value},$)}}}),pl={xs:2,sm:4,md:6,lg:10,xl:14};function Ge(e,l,a){return{transform:l===!0?`translateX(${a.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}const ql=z({name:"QLinearProgress",props:{...fe,...At,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:l}){const{proxy:a}=U(),r=ge(e,a.$q),o=Mt(e,pl),f=v(()=>e.indeterminate===!0||e.query===!0),i=v(()=>e.reverse!==e.query),u=v(()=>({...o.value!==null?o.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`})),c=v(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),m=v(()=>Ge(e.buffer!==void 0?e.buffer:1,i.value,a.$q)),n=v(()=>`with${e.instantFeedback===!0?"out":""}-transition`),g=v(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${n.value} q-linear-progress__track--${r.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),_=v(()=>Ge(f.value===!0?1:e.value,i.value,a.$q)),b=v(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${n.value} q-linear-progress__model--${f.value===!0?"in":""}determinate`),q=v(()=>({width:`${e.value*100}%`})),w=v(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"} q-linear-progress__stripe--${n.value}`);return()=>{const y=[s("div",{class:g.value,style:m.value}),s("div",{class:b.value,style:_.value})];return e.stripe===!0&&f.value===!1&&y.push(s("div",{class:w.value,style:q.value})),s("div",{class:c.value,style:u.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},it(l.default,y))}}}),kl=()=>s("div",{key:"svg",class:"q-checkbox__bg absolute"},[s("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[s("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),s("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]),Re=z({name:"QCheckbox",props:sl,emits:rl,setup(e){const l=kl();function a(r,o){const f=v(()=>(r.value===!0?e.checkedIcon:o.value===!0?e.indeterminateIcon:e.uncheckedIcon)||null);return()=>f.value!==null?[s("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[s(I,{class:"q-checkbox__icon",name:f.value})])]:[l]}return il("checkbox",a)}});let Z=0;const Cl={fullscreen:Boolean,noRouteFullscreenExit:Boolean},Pl=["update:fullscreen","fullscreen"];function xl(){const e=U(),{props:l,emit:a,proxy:r}=e;let o,f,i;const u=L(!1);ul(e)===!0&&j(()=>r.$route.fullPath,()=>{l.noRouteFullscreenExit!==!0&&n()}),j(()=>l.fullscreen,g=>{u.value!==g&&c()}),j(u,g=>{a("update:fullscreen",g),a("fullscreen",g)});function c(){u.value===!0?n():m()}function m(){u.value!==!0&&(u.value=!0,i=r.$el.parentNode,i.replaceChild(f,r.$el),document.body.appendChild(r.$el),Z++,Z===1&&document.body.classList.add("q-body--fullscreen-mixin"),o={handler:n},Ue.add(o))}function n(){u.value===!0&&(o!==void 0&&(Ue.remove(o),o=void 0),i.replaceChild(r.$el,f),u.value=!1,Z=Math.max(0,Z-1),Z===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),r.$el.scrollIntoView!==void 0&&setTimeout(()=>{r.$el.scrollIntoView()})))}return Ze(()=>{f=document.createElement("span")}),et(()=>{l.fullscreen===!0&&m()}),tt(n),Object.assign(r,{toggleFullscreen:c,setFullscreen:m,exitFullscreen:n}),{inFullscreen:u,toggleFullscreen:c}}function Tl(e,l){return new Date(e)-new Date(l)}const Rl={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>e==="ad"||e==="da",default:"ad"}};function Bl(e,l,a,r){const o=v(()=>{const{sortBy:u}=l.value;return u&&a.value.find(c=>c.name===u)||null}),f=v(()=>e.sortMethod!==void 0?e.sortMethod:(u,c,m)=>{const n=a.value.find(b=>b.name===c);if(n===void 0||n.field===void 0)return u;const g=m===!0?-1:1,_=typeof n.field=="function"?b=>n.field(b):b=>b[n.field];return u.sort((b,q)=>{let w=_(b),y=_(q);return n.rawSort!==void 0?n.rawSort(w,y,b,q)*g:w==null?-1*g:y==null?1*g:n.sort!==void 0?n.sort(w,y,b,q)*g:Be(w)===!0&&Be(y)===!0?(w-y)*g:Ke(w)===!0&&Ke(y)===!0?Tl(w,y)*g:typeof w=="boolean"&&typeof y=="boolean"?(w-y)*g:([w,y]=[w,y].map($=>($+"").toLocaleString().toLowerCase()),w<y?-1*g:w===y?0:g)})});function i(u){let c=e.columnSortOrder;if(Ut(u)===!0)u.sortOrder&&(c=u.sortOrder),u=u.name;else{const g=a.value.find(_=>_.name===u);g!==void 0&&g.sortOrder&&(c=g.sortOrder)}let{sortBy:m,descending:n}=l.value;m!==u?(m=u,n=c==="da"):e.binaryStateSort===!0?n=!n:n===!0?c==="ad"?m=null:n=!1:c==="ad"?n=!0:m=null,r({sortBy:m,descending:n,page:1})}return{columnToSort:o,computedSortMethod:f,sort:i}}const $l={filter:[String,Object],filterMethod:Function};function Dl(e,l){const a=v(()=>e.filterMethod!==void 0?e.filterMethod:(r,o,f,i)=>{const u=o?o.toLowerCase():"";return r.filter(c=>f.some(m=>{const n=i(m,c)+"";return(n==="undefined"||n==="null"?"":n.toLowerCase()).indexOf(u)!==-1}))});return j(()=>e.filter,()=>{lt(()=>{l({page:1},!0)})},{deep:!0}),{computedFilterMethod:a}}function Vl(e,l){for(const a in l)if(l[a]!==e[a])return!1;return!0}function Je(e){return e.page<1&&(e.page=1),e.rowsPerPage!==void 0&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}const Ol={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function Ll(e,l){const{props:a,emit:r}=e,o=L(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:a.rowsPerPageOptions.length!==0?a.rowsPerPageOptions[0]:5},a.pagination)),f=v(()=>{const n=a["onUpdate:pagination"]!==void 0?{...o.value,...a.pagination}:o.value;return Je(n)}),i=v(()=>f.value.rowsNumber!==void 0);function u(n){c({pagination:n,filter:a.filter})}function c(n={}){lt(()=>{r("request",{pagination:n.pagination||f.value,filter:n.filter||a.filter,getCellValue:l})})}function m(n,g){const _=Je({...f.value,...n});if(Vl(f.value,_)===!0){i.value===!0&&g===!0&&u(_);return}if(i.value===!0){u(_);return}a.pagination!==void 0&&a["onUpdate:pagination"]!==void 0?r("update:pagination",_):o.value=_}return{innerPagination:o,computedPagination:f,isServerSide:i,requestServerInteraction:c,setPagination:m}}function Fl(e,l,a,r,o,f){const{props:i,emit:u,proxy:{$q:c}}=e,m=v(()=>r.value===!0?a.value.rowsNumber||0:f.value),n=v(()=>{const{page:T,rowsPerPage:V}=a.value;return(T-1)*V}),g=v(()=>{const{page:T,rowsPerPage:V}=a.value;return T*V}),_=v(()=>a.value.page===1),b=v(()=>a.value.rowsPerPage===0?1:Math.max(1,Math.ceil(m.value/a.value.rowsPerPage))),q=v(()=>g.value===0?!0:a.value.page>=b.value),w=v(()=>(i.rowsPerPageOptions.includes(l.value.rowsPerPage)?i.rowsPerPageOptions:[l.value.rowsPerPage].concat(i.rowsPerPageOptions)).map(V=>({label:V===0?c.lang.table.allRows:""+V,value:V})));j(b,(T,V)=>{if(T===V)return;const te=a.value.page;T&&!te?o({page:1}):T<te&&o({page:T})});function y(){o({page:1})}function $(){const{page:T}=a.value;T>1&&o({page:T-1})}function D(){const{page:T,rowsPerPage:V}=a.value;g.value>0&&T*V<m.value&&o({page:T+1})}function C(){o({page:b.value})}return i["onUpdate:pagination"]!==void 0&&u("update:pagination",{...a.value}),{firstRowIndex:n,lastRowIndex:g,isFirstPage:_,isLastPage:q,pagesNumber:b,computedRowsPerPageOptions:w,computedRowsNumber:m,firstPage:y,prevPage:$,nextPage:D,lastPage:C}}const Al={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}},Ml=["update:selected","selection"];function Ql(e,l,a,r){const o=v(()=>{const q={};return e.selected.map(r.value).forEach(w=>{q[w]=!0}),q}),f=v(()=>e.selection!=="none"),i=v(()=>e.selection==="single"),u=v(()=>e.selection==="multiple"),c=v(()=>a.value.length!==0&&a.value.every(q=>o.value[r.value(q)]===!0)),m=v(()=>c.value!==!0&&a.value.some(q=>o.value[r.value(q)]===!0)),n=v(()=>e.selected.length);function g(q){return o.value[q]===!0}function _(){l("update:selected",[])}function b(q,w,y,$){l("selection",{rows:w,added:y,keys:q,evt:$});const D=i.value===!0?y===!0?w:[]:y===!0?e.selected.concat(w):e.selected.filter(C=>q.includes(r.value(C))===!1);l("update:selected",D)}return{hasSelectionMode:f,singleSelection:i,multipleSelection:u,allRowsSelected:c,someRowsSelected:m,rowsSelectedNumber:n,isRowSelected:g,clearSelection:_,updateSelection:b}}function Xe(e){return Array.isArray(e)?e.slice():[]}const El={expanded:Array},Nl=["update:expanded"];function jl(e,l){const a=L(Xe(e.expanded));j(()=>e.expanded,i=>{a.value=Xe(i)});function r(i){return a.value.includes(i)}function o(i){e.expanded!==void 0?l("update:expanded",i):a.value=i}function f(i,u){const c=a.value.slice(),m=c.indexOf(i);u===!0?m===-1&&(c.push(i),o(c)):m!==-1&&(c.splice(m,1),o(c))}return{isRowExpanded:r,setExpanded:o,updateExpanded:f}}const zl={visibleColumns:Array};function Hl(e,l,a){const r=v(()=>{if(e.columns!==void 0)return e.columns;const u=e.rows[0];return u!==void 0?Object.keys(u).map(c=>({name:c,label:c.toUpperCase(),field:c,align:Be(u[c])?"right":"left",sortable:!0})):[]}),o=v(()=>{const{sortBy:u,descending:c}=l.value;return(e.visibleColumns!==void 0?r.value.filter(n=>n.required===!0||e.visibleColumns.includes(n.name)===!0):r.value).map(n=>{const g=n.align||"right",_=`text-${g}`;return{...n,align:g,__iconClass:`q-table__sort-icon q-table__sort-icon--${g}`,__thClass:_+(n.headerClasses!==void 0?" "+n.headerClasses:"")+(n.sortable===!0?" sortable":"")+(n.name===u?` sorted ${c===!0?"sort-desc":""}`:""),__tdStyle:n.style!==void 0?typeof n.style!="function"?()=>n.style:n.style:()=>null,__tdClass:n.classes!==void 0?typeof n.classes!="function"?()=>_+" "+n.classes:b=>_+" "+n.classes(b):()=>_}})}),f=v(()=>{const u={};return o.value.forEach(c=>{u[c.name]=c}),u}),i=v(()=>e.tableColspan!==void 0?e.tableColspan:o.value.length+(a.value===!0?1:0));return{colList:r,computedCols:o,computedColsMap:f,computedColspan:i}}const ce="q-table__bottom row items-center",dt={};st.forEach(e=>{dt[e]={}});const Il=z({name:"QTable",props:{rows:{type:Array,required:!0},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{},...dt,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...fe,...Cl,...zl,...$l,...Ol,...El,...Al,...Rl},emits:["request","virtualScroll",...Pl,...Nl,...Ml],setup(e,{slots:l,emit:a}){const r=U(),{proxy:{$q:o}}=r,f=ge(e,o),{inFullscreen:i,toggleFullscreen:u}=xl(),c=v(()=>typeof e.rowKey=="function"?e.rowKey:t=>t[e.rowKey]),m=L(null),n=L(null),g=v(()=>e.grid!==!0&&e.virtualScroll===!0),_=v(()=>" q-table__card"+(f.value===!0?" q-table__card--dark q-dark":"")+(e.square===!0?" q-table--square":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")),b=v(()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(e.grid===!0?" q-table--grid":_.value)+(f.value===!0?" q-table--dark":"")+(e.dense===!0?" q-table--dense":"")+(e.wrapCells===!1?" q-table--no-wrap":"")+(i.value===!0?" fullscreen scroll":"")),q=v(()=>b.value+(e.loading===!0?" q-table--loading":""));j(()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+b.value,()=>{g.value===!0&&n.value!==null&&n.value.reset()});const{innerPagination:w,computedPagination:y,isServerSide:$,requestServerInteraction:D,setPagination:C}=Ll(r,W),{computedFilterMethod:T}=Dl(e,C),{isRowExpanded:V,setExpanded:te,updateExpanded:vt}=jl(e,a),me=v(()=>{let t=e.rows;if($.value===!0||t.length===0)return t;const{sortBy:d,descending:h}=y.value;return e.filter&&(t=T.value(t,e.filter,M.value,W)),ht.value!==null&&(t=_t.value(e.rows===t?t.slice():t,d,h)),t}),Oe=v(()=>me.value.length),H=v(()=>{let t=me.value;if($.value===!0)return t;const{rowsPerPage:d}=y.value;return d!==0&&(ae.value===0&&e.rows!==t?t.length>ne.value&&(t=t.slice(0,ne.value)):t=t.slice(ae.value,ne.value)),t}),{hasSelectionMode:K,singleSelection:ft,multipleSelection:Le,allRowsSelected:gt,someRowsSelected:Fe,rowsSelectedNumber:be,isRowSelected:he,clearSelection:mt,updateSelection:le}=Ql(e,a,H,c),{colList:bt,computedCols:M,computedColsMap:Ae,computedColspan:Me}=Hl(e,y,K),{columnToSort:ht,computedSortMethod:_t,sort:_e}=Bl(e,y,bt,C),{firstRowIndex:ae,lastRowIndex:ne,isFirstPage:Se,isLastPage:ye,pagesNumber:oe,computedRowsPerPageOptions:St,computedRowsNumber:re,firstPage:we,prevPage:pe,nextPage:qe,lastPage:ke}=Fl(r,w,y,$,C,Oe),yt=v(()=>H.value.length===0),wt=v(()=>{const t={};return st.forEach(d=>{t[d]=e[d]}),t.virtualScrollItemSize===void 0&&(t.virtualScrollItemSize=e.dense===!0?28:48),t});function pt(){g.value===!0&&n.value.reset()}function qt(){if(e.grid===!0)return Lt();const t=e.hideHeader!==!0?ze:null;if(g.value===!0){const h=l["top-row"],S=l["bottom-row"],p={default:P=>Ee(P.item,l.body,P.index)};if(h!==void 0){const P=s("tbody",h({cols:M.value}));p.before=t===null?()=>P:()=>[t()].concat(P)}else t!==null&&(p.before=t);return S!==void 0&&(p.after=()=>s("tbody",S({cols:M.value}))),s(wl,{ref:n,class:e.tableClass,style:e.tableStyle,...wt.value,scrollTarget:e.virtualScrollTarget,items:H.value,type:"__qtable",tableColspan:Me.value,onVirtualScroll:Ct},p)}const d=[Pt()];return t!==null&&d.unshift(t()),ct({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},d)}function kt(t,d){if(n.value!==null){n.value.scrollTo(t,d);return}t=parseInt(t,10);const h=m.value.querySelector(`tbody tr:nth-of-type(${t+1})`);if(h!==null){const S=m.value.querySelector(".q-table__middle.scroll"),p=h.offsetTop-e.virtualScrollStickySizeStart,P=p<S.scrollTop?"decrease":"increase";S.scrollTop=p,a("virtualScroll",{index:t,from:0,to:w.value.rowsPerPage-1,direction:P})}}function Ct(t){a("virtualScroll",t)}function Qe(){return[s(ql,{class:"q-table__linear-progress",color:e.color,dark:f.value,indeterminate:!0,trackColor:"transparent"})]}function Ee(t,d,h){const S=c.value(t),p=he(S);if(d!==void 0)return d(Ne({key:S,row:t,pageIndex:h,__trClass:p?"selected":""}));const P=l["body-cell"],k=M.value.map(O=>{const ie=l[`body-cell-${O.name}`],ue=ie!==void 0?ie:P;return ue!==void 0?ue(xt({key:S,row:t,pageIndex:h,col:O})):s("td",{class:O.__tdClass(t),style:O.__tdStyle(t)},W(O,t))});if(K.value===!0){const O=l["body-selection"],ie=O!==void 0?O(Tt({key:S,row:t,pageIndex:h})):[s(Re,{modelValue:p,color:e.color,dark:f.value,dense:e.dense,"onUpdate:modelValue":(ue,Ft)=>{le([S],[t],ue,Ft)}})];k.unshift(s("td",{class:"q-table--col-auto-width"},ie))}const Q={key:S,class:{selected:p}};return e.onRowClick!==void 0&&(Q.class["cursor-pointer"]=!0,Q.onClick=O=>{a("rowClick",O,t,h)}),e.onRowDblclick!==void 0&&(Q.class["cursor-pointer"]=!0,Q.onDblclick=O=>{a("rowDblclick",O,t,h)}),e.onRowContextmenu!==void 0&&(Q.class["cursor-pointer"]=!0,Q.onContextmenu=O=>{a("rowContextmenu",O,t,h)}),s("tr",Q,k)}function Pt(){const t=l.body,d=l["top-row"],h=l["bottom-row"];let S=H.value.map((p,P)=>Ee(p,t,P));return d!==void 0&&(S=d({cols:M.value}).concat(S)),h!==void 0&&(S=S.concat(h({cols:M.value}))),s("tbody",S)}function Ne(t){return Ce(t),t.cols=t.cols.map(d=>Y({...d},"value",()=>W(d,t.row))),t}function xt(t){return Ce(t),Y(t,"value",()=>W(t.col,t.row)),t}function Tt(t){return Ce(t),t}function Ce(t){Object.assign(t,{cols:M.value,colsMap:Ae.value,sort:_e,rowIndex:ae.value+t.pageIndex,color:e.color,dark:f.value,dense:e.dense}),K.value===!0&&Y(t,"selected",()=>he(t.key),(d,h)=>{le([t.key],[t.row],d,h)}),Y(t,"expand",()=>V(t.key),d=>{vt(t.key,d)})}function W(t,d){const h=typeof t.field=="function"?t.field(d):d[t.field];return t.format!==void 0?t.format(h,d):h}const G=v(()=>({pagination:y.value,pagesNumber:oe.value,isFirstPage:Se.value,isLastPage:ye.value,firstPage:we,prevPage:pe,nextPage:qe,lastPage:ke,inFullscreen:i.value,toggleFullscreen:u}));function Rt(){const t=l.top,d=l["top-left"],h=l["top-right"],S=l["top-selection"],p=K.value===!0&&S!==void 0&&be.value>0,P="q-table__top relative-position row items-center";if(t!==void 0)return s("div",{class:P},[t(G.value)]);let k;if(p===!0?k=S(G.value).slice():(k=[],d!==void 0?k.push(s("div",{class:"q-table__control"},[d(G.value)])):e.title&&k.push(s("div",{class:"q-table__control"},[s("div",{class:["q-table__title",e.titleClass]},e.title)]))),h!==void 0&&(k.push(s("div",{class:"q-table__separator col"})),k.push(s("div",{class:"q-table__control"},[h(G.value)]))),k.length!==0)return s("div",{class:P},k)}const je=v(()=>Fe.value===!0?null:gt.value);function ze(){const t=Bt();return e.loading===!0&&l.loading===void 0&&t.push(s("tr",{class:"q-table__progress"},[s("th",{class:"relative-position",colspan:Me.value},Qe())])),s("thead",t)}function Bt(){const t=l.header,d=l["header-cell"];if(t!==void 0)return t(Pe({header:!0})).slice();const h=M.value.map(S=>{const p=l[`header-cell-${S.name}`],P=p!==void 0?p:d,k=Pe({col:S});return P!==void 0?P(k):s(gl,{key:S.name,props:k},()=>S.label)});if(ft.value===!0&&e.grid!==!0)h.unshift(s("th",{class:"q-table--col-auto-width"}," "));else if(Le.value===!0){const S=l["header-selection"],p=S!==void 0?S(Pe({})):[s(Re,{color:e.color,modelValue:je.value,dark:f.value,dense:e.dense,"onUpdate:modelValue":He})];h.unshift(s("th",{class:"q-table--col-auto-width"},p))}return[s("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},h)]}function Pe(t){return Object.assign(t,{cols:M.value,sort:_e,colsMap:Ae.value,color:e.color,dark:f.value,dense:e.dense}),Le.value===!0&&Y(t,"selected",()=>je.value,He),t}function He(t){Fe.value===!0&&(t=!1),le(H.value.map(c.value),H.value,t)}const se=v(()=>{const t=[e.iconFirstPage||o.iconSet.table.firstPage,e.iconPrevPage||o.iconSet.table.prevPage,e.iconNextPage||o.iconSet.table.nextPage,e.iconLastPage||o.iconSet.table.lastPage];return o.lang.rtl===!0?t.reverse():t});function $t(){if(e.hideBottom===!0)return;if(yt.value===!0){if(e.hideNoData===!0)return;const h=e.loading===!0?e.loadingLabel||o.lang.table.loading:e.filter?e.noResultsLabel||o.lang.table.noResults:e.noDataLabel||o.lang.table.noData,S=l["no-data"],p=S!==void 0?[S({message:h,icon:o.iconSet.table.warning,filter:e.filter})]:[s(I,{class:"q-table__bottom-nodata-icon",name:o.iconSet.table.warning}),h];return s("div",{class:ce+" q-table__bottom--nodata"},p)}const t=l.bottom;if(t!==void 0)return s("div",{class:ce},[t(G.value)]);const d=e.hideSelectedBanner!==!0&&K.value===!0&&be.value>0?[s("div",{class:"q-table__control"},[s("div",[(e.selectedRowsLabel||o.lang.table.selectedRecords)(be.value)])])]:[];if(e.hidePagination!==!0)return s("div",{class:ce+" justify-end"},Vt(d));if(d.length!==0)return s("div",{class:ce},d)}function Dt(t){C({page:1,rowsPerPage:t.value})}function Vt(t){let d;const{rowsPerPage:h}=y.value,S=e.paginationLabel||o.lang.table.pagination,p=l.pagination,P=e.rowsPerPageOptions.length>1;if(t.push(s("div",{class:"q-table__separator col"})),P===!0&&t.push(s("div",{class:"q-table__control"},[s("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||o.lang.table.recordsPerPage]),s(rt,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:h,options:St.value,displayValue:h===0?o.lang.table.allRows:h,dark:f.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":Dt})])),p!==void 0)d=p(G.value);else if(d=[s("span",h!==0?{class:"q-table__bottom-item"}:{},[h?S(ae.value+1,Math.min(ne.value,re.value),re.value):S(1,Oe.value,re.value)])],h!==0&&oe.value>1){const k={color:e.color,round:!0,dense:!0,flat:!0};e.dense===!0&&(k.size="sm"),oe.value>2&&d.push(s(J,{key:"pgFirst",...k,icon:se.value[0],disable:Se.value,onClick:we})),d.push(s(J,{key:"pgPrev",...k,icon:se.value[1],disable:Se.value,onClick:pe}),s(J,{key:"pgNext",...k,icon:se.value[2],disable:ye.value,onClick:qe})),oe.value>2&&d.push(s(J,{key:"pgLast",...k,icon:se.value[3],disable:ye.value,onClick:ke}))}return t.push(s("div",{class:"q-table__control"},d)),t}function Ot(){const t=e.gridHeader===!0?[s("table",{class:"q-table"},[ze()])]:e.loading===!0&&l.loading===void 0?Qe():void 0;return s("div",{class:"q-table__middle"},t)}function Lt(){const t=l.item!==void 0?l.item:d=>{const h=d.cols.map(p=>s("div",{class:"q-table__grid-item-row"},[s("div",{class:"q-table__grid-item-title"},[p.label]),s("div",{class:"q-table__grid-item-value"},[p.value])]));if(K.value===!0){const p=l["body-selection"],P=p!==void 0?p(d):[s(Re,{modelValue:d.selected,color:e.color,dark:f.value,dense:e.dense,"onUpdate:modelValue":(k,Q)=>{le([d.key],[d.row],k,Q)}})];h.unshift(s("div",{class:"q-table__grid-item-row"},P),s(bl,{dark:f.value}))}const S={class:["q-table__grid-item-card"+_.value,e.cardClass],style:e.cardStyle};return(e.onRowClick!==void 0||e.onRowDblclick!==void 0)&&(S.class[0]+=" cursor-pointer",e.onRowClick!==void 0&&(S.onClick=p=>{a("RowClick",p,d.row,d.pageIndex)}),e.onRowDblclick!==void 0&&(S.onDblclick=p=>{a("RowDblclick",p,d.row,d.pageIndex)})),s("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(d.selected===!0?" q-table__grid-item--selected":"")},[s("div",S,h)])};return s("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},H.value.map((d,h)=>t(Ne({key:c.value(d),row:d,pageIndex:h}))))}return Object.assign(r.proxy,{requestServerInteraction:D,setPagination:C,firstPage:we,prevPage:pe,nextPage:qe,lastPage:ke,isRowSelected:he,clearSelection:mt,isRowExpanded:V,setExpanded:te,sort:_e,resetVirtualScroll:pt,scrollTo:kt,getCellValue:W}),Kt(r.proxy,{filteredSortedRows:()=>me.value,computedRows:()=>H.value,computedRowsNumber:()=>re.value}),()=>{const t=[Rt()],d={ref:m,class:q.value};return e.grid===!0?t.push(Ot()):Object.assign(d,{class:[d.class,e.cardClass],style:e.cardStyle}),t.push(qt(),$t()),e.loading===!0&&l.loading!==void 0&&t.push(l.loading()),s("div",d,t)}}}),Ul=z({name:"QTr",props:{props:Object,noHover:Boolean},setup(e,{slots:l}){const a=v(()=>"q-tr"+(e.props===void 0||e.props.header===!0?"":" "+e.props.__trClass)+(e.noHover===!0?" q-tr--no-hover":""));return()=>s("tr",{class:a.value},X(l.default))}}),Kl=z({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(e,{slots:l}){const a=U(),r=v(()=>"q-td"+(e.autoWidth===!0?" q-table--col-auto-width":"")+(e.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(e.props===void 0)return s("td",{class:r.value},X(l.default));const o=a.vnode.key,f=(e.props.colsMap!==void 0?e.props.colsMap[o]:null)||e.props.col;if(f===void 0)return;const{row:i}=e.props;return s("td",{class:r.value+f.__tdClass(i),style:f.__tdStyle(i)},X(l.default))}}}),Wl={__name:"AufgabenList",setup(e){var m,n;const l=Ve(),a=Wt(),r=De();console.log("Aufgaben im Store:",r.aufgaben);const o=[{name:"titel",required:!0,label:"Titel",align:"left",field:"titel"},{name:"beschreibung",label:A.beschreibung[(m=l.account.einstellungen)==null?void 0:m.sprache],align:"left",field:"beschreibung"},{name:"fälligkeitsdatum",label:A.faelligkeitsdatum[(n=l.account.einstellungen)==null?void 0:n.sprache],align:"left",field:"faelligkeitsdatum"}],f=v(()=>{const g=Object.values(r.active);return console.log("Rows für die Tabelle:",g),g.map(_=>({id:_.id,titel:_.titel,beschreibung:_.beschreibung,status:_.status,faelligkeitsdatum:i(new Date(_.faelligkeitsdatum))}))}),i=g=>new Date(g).toLocaleDateString(),u=g=>{switch(g.status){case 0:return"status-red";case 1:return"status-orange";case 2:return"status-green";default:return""}},c=g=>{console.log("Clicked row ID:",g),a.push({path:`/aufgaben/${g}`})};return(g,_)=>(E(),de(x(Il),{class:"q-table",rows:f.value,columns:o,"row-key":"id","hide-bottom":""},{body:F(b=>[B(x(Ul),{props:b,class:at(u(b.row)),onClick:()=>c(b.row.id),style:{}},{default:F(()=>[(E(!0),ee(nt,null,ot(b.cols,q=>(E(),de(x(Kl),{key:q.name,props:b,style:{cursor:"pointer",overflow:"visible"}},{default:F(()=>[$e(N(b.row[q.field]),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props","class","onClick"])]),_:1},8,["rows"]))}},Gl=ve(Wl,[["__scopeId","data-v-54bb66af"]]),Jl={class:"wrapper"},Xl={class:"q-pa-xs"},Yl={class:"inner"},Zl={class:"inner"},ea={class:"inner"},ta={__name:"TerminComponement",props:{id:String},setup(e){const l=ut(),a=e;console.log("Kalendar Store: ",l.termine);const r=v(()=>l.termine[a.id]);return(o,f)=>{var i,u,c,m;return E(),ee("div",Jl,[R("h3",Xl,N((i=r.value)==null?void 0:i.titel),1),R("div",Yl,[B(I,{class:"icon",name:"description"}),R("div",null,N((u=r.value)==null?void 0:u.beschreibung),1)]),R("div",Zl,[B(I,{name:"edit",class:"icon"}),$e(" "+N((c=r.value)==null?void 0:c.startzeit),1)]),R("div",ea,[B(I,{name:"schedule",class:"icon"}),$e(" "+N((m=r.value)==null?void 0:m.startzeit),1)])])}}},la=ve(ta,[["__scopeId","data-v-c6583c28"]]),aa={class:"dashboard-container"},na={style:{"font-weight":"700"}},oa={class:"top-row"},ra={class:"tasks-section"},sa={class:"tasks-wrapper"},ia={class:"plus-wrapper"},ua={class:"chart-section"},ca={class:"chart-wrapper"},da={class:"bottom-row"},va={class:"termin-wrapper"},fa={__name:"DashboardPage",setup(e){const l=L(!1),a=ut(),r=De(),o=Ve(),f=()=>{console.log("Something worked"),l.value=!1},i=L([]);r.fetchAufgaben().finally(()=>{console.log(r.active);for(const c of r.active)i.value.push(c.id)}),console.log(r.stats);const u=L([]);return a.fetchTermine().finally(()=>{for(const c of a.active)u.value.push(c.id)}),(c,m)=>{var n,g,_;return E(),ee("div",aa,[R("h3",na,N(x(A).willkommen[(n=x(o).account.einstellungen)==null?void 0:n.sprache])+" "+N(x(o).account.vorname)+"! ",1),R("div",oa,[R("div",ra,[R("h4",null,N(x(A).aktive_aufgabe[(g=x(o).account.einstellungen)==null?void 0:g.sprache]),1),R("div",sa,[B(Gl),R("div",ia,[R("div",{class:at(["plus"]),onClick:m[0]||(m[0]=b=>l.value=!0)},[B(I,{name:"add",size:"50px"},{default:F(()=>[l.value?(E(),de(Ye,{key:0,cover:""},{default:F(()=>[B(fl,{onCreationDone:f})]),_:1})):Gt("",!0)]),_:1})])])])]),R("div",ua,[m[1]||(m[1]=R("h4",null,"Charts",-1)),R("div",ca,[B(Jt)])])]),R("div",da,[R("h4",null,N(x(A).anstehende_termine[(_=x(o).account.einstellungen)==null?void 0:_.sprache]),1),R("div",va,[(E(!0),ee(nt,null,ot(u.value,b=>(E(),ee("div",{key:b,class:"task-item"},[B(la,{id:""+b},null,8,["id"])]))),128))])])])}}},Ha=ve(fa,[["__scopeId","data-v-bd20c92c"]]);export{Ha as default};
