import{Q as v}from"./QInput-D5AtLni6.js";import{Q as V}from"./QDate-FK7kTF_s.js";import{Q as b}from"./QToggle-C7EGCN7J.js";import{Q}from"./QBtn-CpPlhTW9.js";import{Q as U}from"./QPage-BKLxa5PZ.js";import{u as Y}from"./kalendar-CFj-E-cT.js";import{a as z}from"./token--ulPFVqS.js";import{l as m}from"./language-CpZRSw5K.js";import{_ as $,q as B,r as g,w as D,d as T,f as c,j as M,z as u,m as i,u as l,v as h,k as p,t as k}from"./index-BoGljDLN.js";import"./use-key-composition-ChOD7TKA.js";import"./QSpinner-BFNwqP9i.js";import"./render-CABIAf-z.js";import"./use-dark-CpAO_YU6.js";import"./focus-manager-BJWzFvJg.js";import"./format-BOf40pHW.js";import"./use-checkbox-AEWEhUM5.js";import"./vm-DK5zCSE4.js";import"./request-CTPT2BVh.js";const x={class:"form-container"},C={class:"form-header"},E={class:"row-container"},I={class:"month-view"},N={class:"date-label"},P={key:0,class:"month-view"},G={class:"date-label"},H={key:1,class:"time-container column"},j={class:"toggle-container"},q={class:"form-actions"},A={__name:"TerminPage",setup(F){const y=B(),d=z(),_=Y(),e=g({titel:"",beschreibung:"",startDate:"",startTime:"",endDate:"",endTime:""}),o=g(!1),r=g(!1);D(o,s=>{s?(e.value.startDate&&(e.value.startTime=""),e.value.endDate&&(e.value.endTime="")):(e.value.startTime="",e.value.endTime="")}),D([()=>e.value.startDate,()=>e.value.startTime],([s,a])=>{if(s&&a&&!o.value&&!r.value){const n=new Date(s+"T"+a);n.setHours(n.getHours()+1),e.value.endDate=n.toISOString().split("T")[0],e.value.endTime=n.toTimeString().split(" ")[0].substring(0,5)}});const f=s=>{const a=new Date(s),n=a.getFullYear(),t=String(a.getMonth()+1).padStart(2,"0"),w=String(a.getDate()).padStart(2,"0");return`${n}-${t}-${w}`},S=async()=>{o.value&&(r.value?(e.value.startTime="",e.value.endTime=""):(e.value.startTime="",e.value.endTime="",e.value.endDate=e.value.startDate)),`${e.value.startDate}${e.value.startTime}`,`${e.value.endDate}${e.value.endTime}`;try{const s={titel:e.value.titel,beschreibung:e.value.beschreibung,startzeit:f(e.value.startDate)+" "+e.value.startTime,endzeit:f(e.value.endDate)+" "+e.value.endTime};console.log(s),await _.addTermin(s),y.push("/calendar"),e.value={titel:"",beschreibung:"",startDate:"",startTime:"",endDate:"",endTime:""},o.value=!1,r.value=!1}catch(s){console.error("Error creating termin:",s)}};return(s,a)=>(c(),T(U,{class:"termin-page"},{default:M(()=>{var n;return[u("div",x,[u("div",C,[i(v,{filled:"",modelValue:e.value.titel,"onUpdate:modelValue":a[0]||(a[0]=t=>e.value.titel=t),label:l(m).titel[l(d).sprache],placeholder:"Geben Sie den Titel ein"},null,8,["modelValue","label"]),i(v,{filled:"",modelValue:e.value.beschreibung,"onUpdate:modelValue":a[1]||(a[1]=t=>e.value.beschreibung=t),label:l(m).beschreibung[l(d).sprache],type:"textarea",autogrow:"",placeholder:"Beschreibung des Termins"},null,8,["modelValue","label"])]),u("div",E,[u("div",I,[u("div",N,k(l(m).startzeit[l(d).sprache]),1),i(V,{modelValue:e.value.startDate,"onUpdate:modelValue":a[2]||(a[2]=t=>e.value.startDate=t),mask:"YYYY-MM-DD","default-view":"Calendar",class:"small-calendar"},null,8,["modelValue"]),!o.value&&r.value?(c(),T(v,{key:0,modelValue:e.value.startTime,"onUpdate:modelValue":a[3]||(a[3]=t=>e.value.startTime=t),type:"time",class:"time-picker"},null,8,["modelValue"])):p("",!0)]),r.value?(c(),h("div",P,[u("div",G,k(l(m).endzeit[l(d).sprache]),1),i(V,{modelValue:e.value.endDate,"onUpdate:modelValue":a[4]||(a[4]=t=>e.value.endDate=t),mask:"YYYY-MM-DD","default-view":"Calendar",class:"small-calendar"},null,8,["modelValue"]),!o.value&&r.value?(c(),T(v,{key:0,modelValue:e.value.endTime,"onUpdate:modelValue":a[5]||(a[5]=t=>e.value.endTime=t),type:"time",class:"time-picker"},null,8,["modelValue"])):p("",!0)])):p("",!0),!o.value&&!r.value?(c(),h("div",H,[i(v,{modelValue:e.value.startTime,"onUpdate:modelValue":a[6]||(a[6]=t=>e.value.startTime=t),type:"time",hint:l(m).startzeit[l(d).sprache],class:"time-picker"},null,8,["modelValue","hint"]),i(v,{modelValue:e.value.endTime,"onUpdate:modelValue":a[7]||(a[7]=t=>e.value.endTime=t),type:"time",hint:l(m).endzeit[l(d).sprache],class:"time-picker"},null,8,["modelValue","hint"])])):p("",!0),u("div",j,[i(b,{modelValue:o.value,"onUpdate:modelValue":a[8]||(a[8]=t=>o.value=t),label:"GanztÃ¤gig"},null,8,["modelValue"]),i(b,{modelValue:r.value,"onUpdate:modelValue":a[9]||(a[9]=t=>r.value=t),label:"Mehrere Tage"},null,8,["modelValue"])])]),u("div",q,[i(Q,{label:l(m).erstellen[(n=l(d).account.einstellungen)==null?void 0:n.sprache],color:"primary",onClick:S},null,8,["label"])])])]}),_:1}))}},de=$(A,[["__scopeId","data-v-ca2cdd69"]]);export{de as default};
