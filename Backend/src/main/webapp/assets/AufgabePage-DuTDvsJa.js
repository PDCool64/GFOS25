import{_ as x,r as m,d as B,f as v,j as A,m as r,al as $,J as S,v as _,z as u,t as h,u as k,F as I,x as P,D as V,n as D,k as w}from"./index-BoGljDLN.js";import{u as y}from"./aufgaben-lGrxl6jT.js";import{B as U}from"./BeschreibungComponent-C5DZsUm1.js";import{Q as N}from"./QPopupProxy-5Umc2OVJ.js";import{Q as z}from"./QSpinner-BFNwqP9i.js";import{a as L}from"./token--ulPFVqS.js";import{l as q}from"./language-CpZRSw5K.js";import{Q}from"./QInput-D5AtLni6.js";import{Q as F}from"./QBtn-CpPlhTW9.js";import{a as T,Q as j}from"./QCard-DRhbeSeQ.js";import"./request-CTPT2BVh.js";import"./KundeComponent-DwE-4qXk.js";import"./kunde-DZBuxM3l.js";/* empty css                                                                       *//* empty css                                                                              */import"./QDialog-2jei2Dsv.js";import"./vm-DK5zCSE4.js";import"./focus-manager-BJWzFvJg.js";import"./render-CABIAf-z.js";import"./QMenu-DpO5IsqL.js";import"./use-dark-CpAO_YU6.js";import"./use-key-composition-ChOD7TKA.js";const E={__name:"AufgabenpunktCreateComponent",props:{id:String},emits:["creationDone"],setup(g,{emit:p}){const f=g,a=p,b=y(),e=m(""),l=m("");async function i(){const c={titel:e.value,beschreibung:l.value,erledigt:!1,aufgabeId:f.id};await b.createAufgabenpunkt(c),a("creationDone")}return(c,n)=>(v(),B(j,{class:"aufgaben-card"},{default:A(()=>[r(T,null,{default:A(()=>[r(Q,{modelValue:e.value,"onUpdate:modelValue":n[0]||(n[0]=d=>e.value=d),label:"Titel"},null,8,["modelValue"]),r(Q,{modelValue:l.value,"onUpdate:modelValue":n[1]||(n[1]=d=>l.value=d),label:"Beschreibung",type:"textarea"},null,8,["modelValue"]),r(F,{onClick:i,label:"Punkt erstellen",color:"primary"})]),_:1})]),_:1}))}},J=x(E,[["__scopeId","data-v-c4ab18e9"]]),M={class:"wrapper"},R=["onClick"],G={key:0,class:"Beschreibung"},H={class:"plus-wrapper"},K={__name:"AufgabenUnterpunkteComponent",props:{id:{type:String,required:!0}},setup(g){const p=L(),f=$(),a=y(),b=g,e=m(!1),l=m(null),i=m(null),c=o=>{console.log(a.aufgaben);const t=a.aufgaben[o];t?(l.value=t,i.value=t.aufgabenpunktList):console.error(`Aufgabe mit ID ${o} nicht gefunden`)};S(()=>{const o=f.params.id;console.log(o),o&&a.fetchAufgabe(o).finally(()=>c(o))});const n=m(null),d=o=>{if(n.value===o){const t=i.value.find(C=>C.id===o);t&&(t.erledigt=!t.erledigt),a.togglePunkt(o)}else n.value=o};return(o,t)=>{var C;return v(),_("div",M,[u("div",null,[u("h1",null,h(k(q).unterpunkte[(C=k(p).account.einstellungen)==null?void 0:C.sprache]),1)]),(v(!0),_(I,null,P(i.value,s=>(v(),_("div",{style:{"user-select":"none"},key:s.id,class:V(["titel",{active:s.id===n.value},{done:s.erledigt},{undone:!s.erledigt}]),onClick:te=>d(s.id)},[D(h(s.titel)+" ",1),s.id===n.value?(v(),_("div",G,h(s.beschreibung),1)):w("",!0)],10,R))),128)),u("div",H,[u("div",{class:V(["plus",{active:n.value===null}]),onClick:t[2]||(t[2]=s=>e.value=!0)},[r(z,{name:"add",size:"50px"},{default:A(()=>[r(N,{cover:"",modelValue:e.value,"onUpdate:modelValue":t[1]||(t[1]=s=>e.value=s)},{default:A(()=>[r(J,{id:b.id,onCreationDone:t[0]||(t[0]=s=>(k(a).fetchAufgabe(g.id).finally(()=>c(g.id)),e.value=!1))},null,8,["id"])]),_:1},8,["modelValue"])]),_:1})],2)])])}}},O=x(K,[["__scopeId","data-v-5e62d507"]]),W={id:"aufgabe"},X={class:"q-pa-xs"},Y={class:"wrapper"},Z={class:"beschreibung"},ee={__name:"AufgabePage",setup(g){const p=$(),f=y(),a=m(null),b=e=>{console.log(f.aufgaben);const l=f.aufgaben[e];l?a.value=l:console.error(`Aufgabe mit ID ${e} nicht gefunden`)};return S(()=>{const e=p.params.id;console.log(e),e&&f.fetchAufgabe(e).finally(()=>b(e))}),(e,l)=>{var i,c,n,d;return v(),_("div",W,[u("h1",X,h((i=a.value)==null?void 0:i.titel),1),u("div",Y,[u("div",null,[r(O,{id:k(p).params.id,class:"unterpunkte"},null,8,["id"])]),u("div",Z,[r(U,{id:k(p).params.id},null,8,["id"]),u("div",{class:V([{done:((c=a.value)==null?void 0:c.status)===2},{undone:((n=a.value)==null?void 0:n.status)===0},{inprogress:((d=a.value)==null?void 0:d.status)===1},"bar"])},null,2)])])])}}},xe=x(ee,[["__scopeId","data-v-9c904e1b"]]);export{xe as default};
